<menubar>
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button"
                        class="navbar-toggle collapsed"
                        data-toggle="collapse"
                        data-target="#navbar"
                        aria-expanded="false"
                        aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a id="home-button" class="navbar-brand" href="{ route('ano' ) }">Cuidando</a>
            </div>

            <div id="navbar" class="collapse navbar-collapse">
                <!--                 <ul class="nav navbar-nav"> -->
                    <!-- <li class="active"><a href="/">Home</a></li> -->
                <!--                 </ul> -->
                <ul class="nav navbar-nav navbar-right">
                    <!--                     <li><a href="{ route('texto', 'sobre') }">{ t("About") }</a></li>
                    <li><a href="{ route('texto', 'outra') }">{ t("Another") }</a></li> -->
                    <li><a href="#" onclick={ fRoute('texto sobre') }>{ t("About") }</a></li>
                    <li><a href="#" onclick={ fRoute('texto outra') }>{ t("Another") }</a></li>
                    <li><a href="#">{ t("Share") }</a></li>
                    <li if={ username }><a href="#">{ username }</a></li>
                    <li if={ !username }><a href="#" onclick={ tags['login-form'].openLoginForm }>
                        { t("Login") }
                    </a></li>
                    <li if={ username }><a href="#">{ t("Logout") }</a></li>
                    <li>
                        <select class="navbar-btn" onchange={ selectedLang }>
                            <option each={ _lang in langs }
                                    value="{ _lang.code }"
                                    selected={ _lang.code == lang } >
                                { _lang.name }
                            </option>
                        </select>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <login-form/>
    <!-- <div style="display: block;" id="myModal" class="mymodal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" if={ loginFormIsOpen }> -->
    <!--     <button onclick={ closeLoginForm }>&times;</button> -->
    <!-- </div> -->


    <style>
        .mymodal {
            position: fixed;
            top: 0px;
            right: 0px;
            bottom: 0px;
            left: 0px;
            z-index: 1050;
            display: none;
            overflow: hidden;
            outline: 0px none;
            opacity: 0.5;
            overflow-x: hidden;
            overflow-y: auto;
            background-color: #000;
            /*             transition: opacity 1s linear 0s; */
        }
        .login-modal {
            z-index: 1000;
            position: fixed;
            top: 60px;
            left: 60px;
            width: 500px;
            height: 500px;
        }
        .mhide {
            opacity: 0;
            pointer-events: none;
        }
        .mshow {
            opacity: 1;
            pointer-events: auto;
        }

    </style>


    <script type="es6">
    import translator from '../utils/translator'
    import router from '../store/router'
    this.mixin('base')
    this.watch('username')
    this.langs = translator.getLangs()

    riot.control.on(riot.SEC('lang'), (lang) => {
        if (this.lang != lang) {
            this.lang = lang
            // Update not needed here, because translator will do it.
        }
    })
    this.lang = router.getParam('lang')

    this.selectedLang = (event) => {
        this.triggerChange('lang', event.target.value)
        // Prevent update, translator will do it
        event.preventUpdate = true
    }
    </script>
</menubar>
